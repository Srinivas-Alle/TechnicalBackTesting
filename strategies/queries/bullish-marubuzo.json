{
  "query": {
    "bool": {
      "filter": [
        {
          "range": {
            "time": {
              "gte": "2018-06-21",
              "lt": "2018-06-22"
            }
          }
        },
        {
          "script": {
            "script": {
              "inline": "(doc['close'].value - doc['open'].value) > (params.width * (doc['high'].value - doc['close'].value)) ",
              "lang": "painless",
              "params": {
                "width": 25
              }
            }
          }
        },
        {
          "script": {
            "script": {
              "inline": "(doc['close'].value - doc['open'].value) > (params.width * (doc['open'].value - doc['low'].value))",
              "lang": "painless",
              "params": {
                "width": 25
              }
            }
          }
        },
        {
          "script": {
            "script": {
              "inline": "doc['volume'].value * doc['close'].value > 5000000",
              "lang": "painless"
            }
          }
        },
        {
          "script": {
            "script": {
              "inline": "100 * (doc['close'].value - doc['open'].value) / doc['open'].value > 2",
              "lang": "painless"
            }
          }
        }
      ]
    }
  }
}